var CGSnapshotModalDemo = angular.module('FusionStorUI.cgsnapshot', []);
CGSnapshotModalDemo.controller('CGSnapshotModalCtrl', ['$scope','$modal', function($scope, $modal) {
    var modalInstance;
    $scope.open = function(url) {  
        $scope.item = {};
        modalInstance = $modal.open({  
            templateUrl : url,
            controller : CGSnapshotModalInstanceCtrl,  
            backdrop:'static',  
                keyboard: false,
            resolve : { 
                item : function() {  
                    return $scope.item;  
                }  
            }  
        });  
        modalInstance.opened.then(function() {// 模态窗口打开之后执行的函数  
        });  
        modalInstance.result.then(function(result) {  
        }, function(reason) {  
        });  
    };  

    $scope.close = function() {
        modalInstance.dismiss('cancel');  
    }
}]); 
var CGSnapshotModalInstanceCtrl = function($scope, $modalInstance, item) {  
    $scope.item = item;  
    $scope.selected = {  
        item : $scope.item 
    };  
    $scope.ok = function() {  
        submit_cgsnapshot_create();
    };  
    $scope.clone_ok = function(){  
        submit_cgsnapshot_clone();
    }; 
    $scope.cgsnapshot_policy_create = function() {
        submit_cgsnapshot_policy();
    };
    $scope.cancel = function() {  
        $modalInstance.dismiss('cancel');  
    };  
};  
